(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75d375ca"],{"056d":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"my-5"},[r("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),r("table",{staticClass:"table"},[t._m(0),r("tbody",t._l(t.orders,(function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.created.datetime))]),r("td",[t._v(t._s(e.payment))]),r("td",[r("ul",{staticClass:"list-unstyled"},t._l(e.products,(function(e,a){return r("li",{key:a},[t._v(" "+t._s(e.product.title)+" 數量 "+t._s(e.quantity)+t._s(e.product.unit)+" ")])})),0)]),r("td",[t._v(t._s(e.amount))]),r("td",[r("strong",{directives:[{name:"show",rawName:"v-show",value:e.paid,expression:"order.paid"}],staticClass:"text-success"},[t._v("已付款")]),r("strong",{directives:[{name:"show",rawName:"v-show",value:!e.paid,expression:"!order.paid"}],staticClass:"text-danger"},[t._v("未付款")])]),r("td",[r("div",{staticClass:"btn-group btn-group-sm"},[r("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:e.paid},on:{click:function(r){return r.preventDefault(),t.getProductDetail(e.id)}}},[t._v(" 選擇 ")])])])])})),0)]),r("div",{staticClass:"row justify-content-center"},[r("form",{staticClass:"col-md-6",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[r("table",{staticClass:"table"},[t._m(1),r("tbody",t._l(t.order.products,(function(e,a){return r("tr",{key:a},[r("td",[t._v(t._s(e.product.title))]),r("td",[t._v(t._s(e.quantity)+" / "+t._s(e.product.unit))]),r("td",[t._v(t._s(e.product.price))])])})),0),r("tfoot",[r("tr",[r("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(" 總計 ")]),r("td",{staticClass:"text-right"},[t._v(" "+t._s(t.order.amount)+" ")])])])]),r("table",{staticClass:"table"},[r("tbody",[r("tr",[r("th",[t._v("Email")]),r("td",[t._v(t._s(t.order.user.email))])]),r("tr",[r("th",[t._v("姓名")]),r("td",[t._v(t._s(t.order.user.name))])]),r("tr",[r("th",[t._v("收件人電話")]),r("td",[t._v(t._s(t.order.user.tel))])]),r("tr",[r("th",[t._v("收件人地址")]),r("td",[t._v(t._s(t.order.user.address))])]),r("tr",[r("th",[t._v("付款狀態")]),r("td",[r("span",{directives:[{name:"show",rawName:"v-show",value:t.order.paid,expression:"order.paid"}],staticClass:"text-success"},[t._v(" 付款完成 ")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!t.order.paid,expression:"!order.paid"}],staticClass:"text-danger"},[t._v(" 未付款 ")])])])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.order.paid,expression:"order.paid === false"}],staticClass:"text-right"},[r("button",{staticClass:"btn btn-danger",attrs:{type:"submit"}},[t._v(" 確認付款 ")])])])])],1)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("購買時間")]),r("th",[t._v("購買方式")]),r("th",[t._v("商品列表")]),r("th",[t._v("應付金額")]),r("th",[t._v("付款狀態")]),r("th",[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("th",[t._v("品名")]),r("th",[t._v("數量")]),r("th",[t._v("單價")])])}],i=(r("99af"),{data:function(){return{isLoading:!1,orders:[],order:{user:{email:"",name:"",tel:"",address:""}},orderId:""}},created:function(){this.orderId=this.$route.params.id,this.orderId&&this.getProductDetail(this.orderId),this.getOrders()},methods:{getOrders:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var r="".concat("https://course-ec-api.hexschool.io/api","/").concat("9581c775-21da-48b3-9520-2da056c30643","/ec/orders?page=").concat(e);this.$http.get(r).then((function(e){t.orders=e.data.data,t.isLoading=!1}))},getProductDetail:function(t){var e=this;this.isLoading=!0,this.orderId=t;var r="".concat("https://course-ec-api.hexschool.io/api","/").concat("9581c775-21da-48b3-9520-2da056c30643","/ec/orders/").concat(t);this.$http.get(r).then((function(t){e.order=t.data.data,e.isLoading=!1}))},payOrder:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api","/").concat("9581c775-21da-48b3-9520-2da056c30643","/ec/orders/").concat(this.orderId,"/paying");this.$http.post(e).then((function(e){e.data.data.id&&(t.isLoading=!1,t.getOrders(),t.getProductDetail(t.orderId))}))}}}),o=i,d=r("2877"),n=Object(d["a"])(o,a,s,!1,null,null,null);e["default"]=n.exports},"99af":function(t,e,r){"use strict";var a=r("23e7"),s=r("d039"),i=r("e8b5"),o=r("861d"),d=r("7b0b"),n=r("50c4"),c=r("8418"),u=r("65f0"),l=r("1dde"),h=r("b622"),v=r("2d00"),p=h("isConcatSpreadable"),_=9007199254740991,f="Maximum allowed index exceeded",g=v>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=l("concat"),b=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)},w=!g||!m;a({target:"Array",proto:!0,forced:w},{concat:function(t){var e,r,a,s,i,o=d(this),l=u(o,0),h=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?o:arguments[e],b(i)){if(s=n(i.length),h+s>_)throw TypeError(f);for(r=0;r<s;r++,h++)r in i&&c(l,h,i[r])}else{if(h>=_)throw TypeError(f);c(l,h++,i)}return l.length=h,l}})}}]);
//# sourceMappingURL=chunk-75d375ca.7ddd27cc.js.map